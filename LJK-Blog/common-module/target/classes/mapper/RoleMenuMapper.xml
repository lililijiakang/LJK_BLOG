<?xml version="1.0" encoding="UTF-8" ?> <!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ljk.mapper.RoleMenuMapper">
    <select id="selectAllMenuId" resultType="com.ljk.domain.entity.RoleMenu">
        SELECT
            DISTINCT rm.menu_id
        FROM
            `sys_role_menu` rm
        LEFT JOIN `sys_menu` m ON rm.`menu_id` = m.`id`
        WHERE
            m.`menu_type` IN ('C','M') AND
            m.`status` = 0 AND
            m.`del_flag` = 0
    </select>
        <select id="selectMenuIdByRoleId" resultType="com.ljk.domain.entity.RoleMenu">
            SELECT
                DISTINCT rm.menu_id
            FROM
                `sys_role_menu` rm
                    LEFT JOIN `sys_menu` m ON rm.`menu_id` = m.`id`
            WHERE
                rm.`role_id` = #{id} AND
                m.`menu_type` IN ('C','M') AND
                m.`status` = 0 AND
                m.`del_flag` = 0
        </select>
</mapper>
